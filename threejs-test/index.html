<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>RZHD-Map</title>
    <link rel="stylesheet" href="TemplateData/share.css">
	<link rel="stylesheet" href="TemplateData/main.css">
	  
  </head>

  <body>
	<header>
		<div class="logo"><a href="https://mash.ru"></a></div>
		<div class="socials">
			<a class="vk" href="https://vk.com/mash"><i class="fab fa-vk"></i></a>
			<a class="fb" href="https://www.facebook.com/breakingmash/"><i class="fab fa-facebook-f"></i></a>
			<a class="tg" href="https://tg.mash.ru"><i class="fab fa-telegram-plane"></i></a>
			<a class="tw" href="https://twitter.com/mash_breaking"><i class="fab fa-twitter"></i></a>
		</div>
	 </header>

    <div id="gameContainer"></div>
    <div id="loader">
      <img class="logo" src="logo.png">
      <div class="spinner"></div>
      <div class="progress"><div class="full"></div></div>
    </div>

		  

  </body>

  <script src="Build/UnityLoader.js"></script>
  <script>
  var gameInstance = UnityLoader.instantiate("gameContainer", "Build/Builds.json", {onProgress: UnityProgress});
  function UnityProgress(gameInstance, progress) {
    if (!gameInstance.Module) {
      return;
    }
    const loader = document.querySelector("#loader");
    if (!gameInstance.progress) {
      const progress = document.querySelector("#loader .progress");
      progress.style.display = "block";
      gameInstance.progress = progress.querySelector(".full");
      loader.querySelector(".spinner").style.display = "none";
    }
    gameInstance.progress.style.transform = `scaleX(${progress})`;
    if (progress === 1 && !gameInstance.removeTimeout) {
      gameInstance.removeTimeout = setTimeout(function() {
          loader.style.display = "none";
		  document.querySelector("#gameContainer").style.display = 'block';
      }, 2000);
    } else {
      	document.querySelector("#gameContainer").style.display = 'none';
    }
  }

  function start() {
    ym(55253671, 'reachGoal', 'start');
    document.querySelector("#gameContainer").style.display = 'block';
    document.querySelector("#loader").style.display = "none";
  }
  window.en = function() {
    ym(55253671, 'reachGoal', 'enplus');
  };
  </script>

</html>

